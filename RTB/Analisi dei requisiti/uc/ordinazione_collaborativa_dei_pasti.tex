\usecase{Ordinazione collaborativa dei pasti}
\label{usecase:Ordinazione collaborativa dei pasti}
\begin{itemize}
	\item \textbf{Attore principale:} Utente base.

	\item \textbf{Attori secondari:}
	      \begin{itemize}
		      \item Sistema;
		      \item Utente ristoratore.
	      \end{itemize}

	\item \textbf{Precondizioni:}
	      Un Utente base ha effettuato l'accesso al Sistema e sta
	      visualizzando il riepilogo di una prenotazione che si trova in uno
	      degli stati: \textit{In attesa} o \textit{Confermata dal ristoratore}
	      (vedi \autoref{usecase:Visualizzazione del riepilogo}).

	\item \textbf{Postcondizioni:}
	      Un Utente base ha ordinato le pietanze per la prenotazione effettuata.

	\item \textbf{Scenario principale:}
	      \begin{enumerate}
		      \item \label{item:riepilogo}
		            Il Sistema mostra il riepilogo della prenotazione;

		      \item L'Utente base modifica il riepilogo della prenotazione
		            (vedi \autoref{usecase:Aggiornamento del riepilogo});

		      \item Se l'Utente base ha modificato il riepilogo della
		            prenotazione: torna al punto \ref{item:riepilogo};

		      \item L'Utente base conferma il riepilogo dell'ordinazione;

		      \item Se tutti gli Utenti base che hanno accesso alla prenotazione
		            hanno confermato il riepilogo dell'ordinazione: il Sistema
		            notifica l'ordinazione all'Utente ristoratore.
	      \end{enumerate}

	\item \textbf{Scenario secondario:}
	      \begin{itemize}
		      \item L'Utente base annulla l'ordinazione (vedi
		            \autoref{usecase:Annullamento della prenotazione}).
		            \begin{enumerate}
			            \item L'Utente base annulla l'ordinazione;
			            \item Il Sistema aggiorna l'ordinazione.
			            \item Il Sistema notifica l'annullamento dell'ordinazione
			                  all'Utente ristoratore.
		            \end{enumerate}
	      \end{itemize}
\end{itemize}


\subusecase{Aggiornamento del riepilogo}
\label{usecase:Aggiornamento del riepilogo}
\begin{itemize}
	\item \textbf{Attore principale:} Utente base.

	\item \textbf{Attore secondario:} Sistema.

	\item \textbf{Precondizioni:}
	      Un Utente base ha effettuato l'accesso al Sistema, ha effettuato una
	      prenotazione (vedi \autoref{usecase:Prenotazione di un tavolo}) e
	      sta visualizzando il riepilogo della prenotazione
	      (vedi \autoref{usecase:Visualizzazione del riepilogo}).

	\item \textbf{Postcondizioni:}
	      L'Utente base ha modificato il riepilogo della prenotazione e il Sistema
	      aggiorna le informazioni inerenti alla prenotazione.

	\item \textbf{Scenario principale:}
	      \begin{enumerate}
		      \item L'Utente base entra nella sezione di modifica del riepilogo;
		      \item L'Utente base modifica il riepilogo della prenotazione pietanze;
		      \item L'Utente base conferma le modifiche;
		      \item Il Sistema aggiorna il riepilogo della prenotazione.
	      \end{enumerate}

	\item \textbf{Descrizione:} L'Utente base può modificare il riepilogo della
	      prenotazione: modificando le quantità (numero piatti) o gli
	      ingredienti delle pietanze già presenti; oppure aggiungendo nuove
	      pietanze; o rimuovendo pietanze già presenti. Un Utente base può
	      anche modificare la data e l'ora della prenotazione, nel qual caso la
	      prenotazione torna nello stato \textit{In attesa} (vedi
	      \autoref{usecase:Visualizzazione del riepilogo}).
\end{itemize}
