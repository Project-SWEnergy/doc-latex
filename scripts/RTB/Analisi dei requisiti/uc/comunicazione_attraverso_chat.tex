\usecaseautenticato{Comunicazione attraverso chat}
\label{usecase:Comunicazione attraverso chat}
\begin{itemize}
	\item \textbf{\gls{Attore}$^G$ principale:} \gls{Utente autenticato}$^G$.

	\item \textbf{Precondizione:} L'\gls{Utente autenticato}$^G$ ha effettuato l'accesso al Sistema (vedi \autoref{usecase:Effettua accesso}).

	\item \textbf{Postcondizione:} La \textit{chat} è stata avviata.

	\item \textbf{Scenario principale:}
	      \begin{enumerate}
		      \item L'\gls{Utente base}$^G$ oppure ristoratore inizia la \textit{chat} con l'invio di un messaggio (vedi \autoref{usecase:Invio messaggio chat});
		            \begin{itemize}
			            \item L'\gls{Utente ristoratore}$^G$ può iniziare la \textit{chat} con l'invio di un messaggio ad un \gls{Utente base}$^G$ soltanto se ha effettuato una prenotazione (ved \autoref{usecase:Prenotazione di un tavolo}).
		            \end{itemize}
		      \item La \textit{chat} viene creata e inizializzata;
		      \item L'\gls{Utente base}$^G$ oppure ristoratore possono leggere i messaggi presenti in \textit{chat} (vedi \autoref{usecase:Lettura chat});
		      \item Ora l'\gls{Utente base}$^G$ e l'\gls{Utente ristoratore}$^G$ possono comunicare tra di loro attraverso l'uso della \textit{chat}, inviando e leggendo i messaggi vicendevolmente.
	      \end{enumerate}
\end{itemize}

\subusecaseautenticato{Lettura chat}
\label{usecase:Lettura chat}
\begin{itemize}
	\item \textbf{\gls{Attore}$^G$ principale:} \gls{Utente autenticato}$^G$.

	\item \textbf{Precondizione:} La \textit{chat} è stata avviata.

	\item \textbf{Postcondizione:} L'utente legge la \textit{chat} aggiornata.

	\item \textbf{Scenario principale:}
	      \begin{enumerate}
		      \item Il Sistema aggiorna la \textit{chat} all'ultimo messaggio inviato;
		      \item L'utente legge l'ultimo messaggio che gli è \gls{Stato}$^G$ inviato.
	      \end{enumerate}
\end{itemize}


\subusecaseautenticato{Invio messaggio chat}
\label{usecase:Invio messaggio chat}
\begin{itemize}
	\item \textbf{\gls{Attore}$^G$ principale:} \gls{Utente autenticato}$^G$.

	\item \textbf{Precondizione:} La \textit{chat} è stata avviata.


	\item \textbf{Postcondizione:} Il messaggio scritto è \gls{Stato}$^G$ inviato in \textit{chat}.

	\item \textbf{Scenario principale:}
	      \begin{enumerate}
		      \item L'\gls{Utente autenticato}$^G$ scrive ed invia un messaggio in \textit{chat};
		      \item Il Sistema memorizza il messaggio.
	      \end{enumerate}
\end{itemize}
