\usecasegenerico{Effettua accesso}
\label{usecase:Effettua accesso}

\begin{itemize}
	\item \textbf{Descrizione:} Un \gls{Utente generico}$^G$ decide di accedere alla \textit{web app}, scegliendo tra due opzioni:
	\begin{itemize}
		\item Accesso tramite inserimento di \textit{email} e \textit{password}.
		\item Accesso tramite un sistema di terze parti.
	\end{itemize}
	In caso di fallimento dell'autenticazione, l'\gls{Utente generico}$^G$ deve reinserire le credenziali.

	\item \textbf{\gls{Attore}$^G$ principale:} \gls{Utente generico}$^G$.
	\item \textbf{\gls{Attore}$^G$ secondario:} Sistema di autenticazione esterno$^G$.
	\item \textbf{Precondizione:}
	      Un \gls{Utente generico}$^G$ è connesso al Sistema ed è in possesso di un \textit{account}.

	\item \textbf{Postcondizioni:}
		\begin{itemize}      
			\item L'\gls{Utente generico}$^G$ è \gls{Stato}$^G$ identificato dal Sistema come uno solo dei seguenti utenti:
	      		\begin{itemize}
		      		\item \gls{Utente ristoratore}$^G$.
		      		\item \gls{Utente base}$^G$.
	      		\end{itemize}
		  	\item L'\gls{Utente autenticato}$^G$ viene reindirizzato alla pagina \textit{Home} di pertinenza.
		\end{itemize}

	\item \textbf{Scenario principale:}
	      \begin{enumerate}
		      \item L'\gls{Utente generico}$^G$ seleziona la modalità di accesso: 

			  \begin{itemize}
				\item Accesso per terze parti (vedi \autoref{usecase:Effettua accesso per terze parti}).
				\item Accesso tradizionale (vedi \autoref{usecase:Effettua accesso tradizionale}).
			  \end{itemize}

		      \item Il Sistema verifica se l'\gls{Utente generico}$^G$ è un \gls{Utente ristoratore}$^G$ oppure \gls{Utente base}$^G$;
		      \item L'\gls{Utente autenticato}$^G$ viene reindirizzato alla \textit{Home} corrispondente al tipo di \textit{account}.
	      \end{enumerate}
		
	\item \textbf{Scenario secondario:}
		\begin{enumerate}
			\item L'accesso fallisce (vedi \autoref{usecase:Visualizzazione errore d'accesso});
			\item L'\gls{Utente generico}$^G$ viene nuovamente indirizzato alla pagina di accesso.
		\end{enumerate}	
	\end{itemize}
